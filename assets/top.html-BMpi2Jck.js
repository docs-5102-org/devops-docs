import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,a,o as n}from"./app-DgGiCkCw.js";const e={};function l(d,i){return n(),t("div",null,i[0]||(i[0]=[a(`<h1 id="top命令" tabindex="-1"><a class="header-anchor" href="#top命令"><span>top命令</span></a></h1><h2 id="概述" tabindex="-1"><a class="header-anchor" href="#概述"><span>概述</span></a></h2><p>top命令的功能是实时显示系统运行状态，包含处理器、内存、服务、进程等重要资产信息。运维工程师们常常会把top命令比作&quot;加强版的Windows任务管理器&quot;，因为除了能看到常规的服务进程信息之外，还能够对处理器和内存的负载情况一目了然，实时感知系统全局的运行状态。</p><p>top命令主要用来监控系统实时负载率、进程的资源占用率及其它各项系统状态属性是否正常。它非常适合作为接手服务器后执行的第一条命令。</p><h2 id="语法格式" tabindex="-1"><a class="header-anchor" href="#语法格式"><span>语法格式</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [参数] [对象]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="常用参数" tabindex="-1"><a class="header-anchor" href="#常用参数"><span>常用参数</span></a></h2><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>-a</td><td>按内存使用情况排序</td></tr><tr><td>-b</td><td>使用批处理模式，不进行交互式显示</td></tr><tr><td>-c</td><td>使用显示模式，显示完整的命令行</td></tr><tr><td>-d</td><td>设置显示的更新速度（秒）</td></tr><tr><td>-h</td><td>显示帮助信息</td></tr><tr><td>-i</td><td>不显示任何闲置或僵死的行程</td></tr><tr><td>-M</td><td>显示内存单位</td></tr><tr><td>-n</td><td>设置显示的总次数，完成后自动退出</td></tr><tr><td>-p</td><td>仅显示指定进程ID</td></tr><tr><td>-s</td><td>使用安全模式，不允许交互式指令</td></tr><tr><td>-u</td><td>仅显示与指定用户ID</td></tr><tr><td>-v</td><td>使用线程模式</td></tr><tr><td>-w</td><td>设置显示的宽度</td></tr></tbody></table><h2 id="输出界面详解" tabindex="-1"><a class="header-anchor" href="#输出界面详解"><span>输出界面详解</span></a></h2><p>top命令的输出界面主要分为以下几个部分：</p><h3 id="_1-系统任务统计信息-第1行" tabindex="-1"><a class="header-anchor" href="#_1-系统任务统计信息-第1行"><span>1. 系统任务统计信息（第1行）</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>01:06:48 up 1:22, 1 user, load average: 0.06, 0.60, 0.48</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><table><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td>01:06:48</td><td>当前时间</td></tr><tr><td>up 1:22</td><td>系统运行时间，格式为时:分</td></tr><tr><td>1 user</td><td>当前登录用户数</td></tr><tr><td>load average: 0.06, 0.60, 0.48</td><td>系统负载，即任务队列的平均长度。三个数值分别为1分钟、5分钟、15分钟前到现在的平均值。**注意：**这三个值可以用来判定系统是否负载过高——如果值持续大于系统cpu个数，就需要优化你的程序或者架构了。</td></tr></tbody></table><h3 id="_2-进程和cpu统计信息-第2-6行" tabindex="-1"><a class="header-anchor" href="#_2-进程和cpu统计信息-第2-6行"><span>2. 进程和CPU统计信息（第2-6行）</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>Tasks: 29 total, 1 running, 28 sleeping, 0 stopped, 0 zombie</span></span>
<span class="line"><span>Cpu(s): 0.3%us, 1.0%sy, 0.0%ni, 98.7%id, 0.0%wa, 0.0%hi, 0.0%si</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td>Tasks: 29 total</td><td>进程总数</td></tr><tr><td>1 running</td><td>正在运行的进程数</td></tr><tr><td>28 sleeping</td><td>睡眠的进程数</td></tr><tr><td>0 stopped</td><td>停止的进程数</td></tr><tr><td>0 zombie</td><td>僵尸进程数</td></tr><tr><td>Cpu(s): 0.3% us</td><td>用户空间占用CPU百分比</td></tr><tr><td>1.0% sy</td><td>内核空间占用CPU百分比</td></tr><tr><td>0.0% ni</td><td>用户进程空间内改变过优先级的进程占用CPU百分比</td></tr><tr><td>98.7% id</td><td>空闲CPU百分比</td></tr><tr><td>0.0% wa</td><td>等待输入输出的CPU时间百分比</td></tr><tr><td>0.0% hi</td><td>Hardware IRQ（硬件中断）</td></tr><tr><td>0.0% si</td><td>Software IRQ（软件中断）</td></tr><tr><td>0.0% st</td><td>Steal Time（虚拟化环境中被其他虚拟机占用的CPU时间）</td></tr></tbody></table><p><strong>注意：</strong></p><ul><li>IRQ全称为Interrupt Request，即是&quot;中断请求&quot;的意思</li><li>Steal Time只在虚拟化环境中有意义，表示虚拟CPU等待真实CPU的时间百分比</li></ul><h3 id="_3-内存信息-最后两行" tabindex="-1"><a class="header-anchor" href="#_3-内存信息-最后两行"><span>3. 内存信息（最后两行）</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>Mem:  191272k total, 173656k used,  17616k free,  22052k buffers</span></span>
<span class="line"><span>Swap: 192772k total,     0k used, 192772k free, 123988k cached</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td>Mem: 191272k total</td><td>物理内存总量</td></tr><tr><td>173656k used</td><td>使用的物理内存总量</td></tr><tr><td>17616k free</td><td>空闲内存总量</td></tr><tr><td>22052k buffers</td><td>用作内核缓存的内存量</td></tr><tr><td>Swap: 192772k total</td><td>交换区总量</td></tr><tr><td>0k used</td><td>使用的交换区总量</td></tr><tr><td>192772k free</td><td>空闲交换区总量</td></tr><tr><td>123988k cached</td><td>缓冲的交换区总量</td></tr></tbody></table><h4 id="内存计算方式" tabindex="-1"><a class="header-anchor" href="#内存计算方式"><span>内存计算方式</span></a></h4><p><strong>实际可用内存计算：</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>可用内存 = free + (buffers + cached)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>程序实际使用内存计算：</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>已用内存 = used - (buffers + cached)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>判断内存不足：</strong><br> 如果 swap used 数值大于 0，基本可以判断已经遇到内存瓶颈了，要么优化代码，要么加内存。</p><h4 id="buffer-与-cache-的区别" tabindex="-1"><a class="header-anchor" href="#buffer-与-cache-的区别"><span>Buffer 与 Cache 的区别</span></a></h4><ul><li><strong>Buffer（缓冲）</strong>：用来给块设备做的缓冲大小，主要记录文件系统的metadata以及tracking in-flight pages</li><li><strong>Cache（缓存）</strong>：用来给文件做缓冲，直接用来记忆我们打开的文件</li></ul><p>从应用程序角度来看，buffers/cached 等于可用内存，因为buffer/cached是为了提高文件读写性能，当应用程序需要内存时，buffer/cached会很快被回收。</p><h3 id="_4-进程信息区" tabindex="-1"><a class="header-anchor" href="#_4-进程信息区"><span>4. 进程信息区</span></a></h3><table><thead><tr><th>列名</th><th>含义</th></tr></thead><tbody><tr><td>PID</td><td>进程id</td></tr><tr><td>PPID</td><td>父进程id</td></tr><tr><td>RUSER</td><td>Real user name</td></tr><tr><td>UID</td><td>进程所有者的用户id</td></tr><tr><td>USER</td><td>进程所有者的用户名</td></tr><tr><td>GROUP</td><td>进程所有者的组名</td></tr><tr><td>TTY</td><td>启动进程的终端名。不是从终端启动的进程则显示为 ?</td></tr><tr><td>PR</td><td>优先级</td></tr><tr><td>NI</td><td>nice值。负值表示高优先级，正值表示低优先级</td></tr><tr><td>P</td><td>最后使用的CPU，仅在多CPU环境下有意义</td></tr><tr><td>%CPU</td><td>上次更新到现在的CPU时间占用百分比</td></tr><tr><td>TIME</td><td>进程使用的CPU时间总计，单位秒</td></tr><tr><td>TIME+</td><td>进程使用的CPU时间总计，单位1/100秒</td></tr><tr><td>%MEM</td><td>进程使用的物理内存百分比</td></tr><tr><td>VIRT</td><td>进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES</td></tr><tr><td>SWAP</td><td>进程使用的虚拟内存中，被换出的大小，单位kb</td></tr><tr><td>RES</td><td>进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA</td></tr><tr><td>CODE</td><td>可执行代码占用的物理内存大小，单位kb</td></tr><tr><td>DATA</td><td>可执行代码以外的部分(数据段+栈)占用的物理内存大小，单位kb</td></tr><tr><td>SHR</td><td>共享内存大小，单位kb</td></tr><tr><td>nFLT</td><td>页面错误次数</td></tr><tr><td>nDRT</td><td>最后一次写入到现在，被修改过的页面数</td></tr><tr><td>S</td><td>进程状态。D=不可中断的睡眠状态，R=运行，S=睡眠，T=跟踪/停止，Z=僵尸进程</td></tr><tr><td>COMMAND</td><td>命令名/命令行</td></tr><tr><td>WCHAN</td><td>若该进程在睡眠，则显示睡眠中的系统函数名</td></tr><tr><td>Flags</td><td>任务标志，参考 sched.h</td></tr></tbody></table><h2 id="交互式命令" tabindex="-1"><a class="header-anchor" href="#交互式命令"><span>交互式命令</span></a></h2><p>在top命令运行过程中，可以使用以下交互式命令：</p><h3 id="显示控制" tabindex="-1"><a class="header-anchor" href="#显示控制"><span>显示控制</span></a></h3><ul><li><strong>h 或 ?</strong>：显示帮助画面</li><li><strong>f</strong>：选择显示的列内容</li><li><strong>o</strong>：改变列的显示顺序</li><li><strong>F/O</strong>：按指定列排序进程</li><li><strong>l</strong>：切换显示平均负载和启动时间信息</li><li><strong>m</strong>：切换显示内存信息</li><li><strong>t</strong>：切换显示进程和CPU状态信息</li><li><strong>c</strong>：切换显示命令名称和完整命令行</li></ul><h3 id="排序功能" tabindex="-1"><a class="header-anchor" href="#排序功能"><span>排序功能</span></a></h3><ul><li><strong>P</strong>：根据CPU使用百分比大小进行排序</li><li><strong>M</strong>：根据驻留内存大小进行排序</li><li><strong>T</strong>：根据时间/累计时间进行排序</li><li><strong>R</strong>：将当前的排序倒转</li></ul><h3 id="进程控制" tabindex="-1"><a class="header-anchor" href="#进程控制"><span>进程控制</span></a></h3><ul><li><strong>k</strong>：终止一个进程（需要输入PID和信号）</li><li><strong>r</strong>：重新安排一个进程的优先级别</li><li><strong>i</strong>：忽略闲置和僵死进程（开关式命令）</li></ul><h3 id="其他操作" tabindex="-1"><a class="header-anchor" href="#其他操作"><span>其他操作</span></a></h3><ul><li><strong>s</strong>：改变两次刷新之间的延迟时间</li><li><strong>S</strong>：切换到累计模式</li><li><strong>W</strong>：将当前设置写入~/.toprc文件中</li><li><strong>q</strong>：退出程序</li><li><strong>Ctrl+L</strong>：擦除并重写屏幕</li><li><strong>数字1</strong>：显示所有CPU核心的负载情况</li></ul><h2 id="常用示例" tabindex="-1"><a class="header-anchor" href="#常用示例"><span>常用示例</span></a></h2><h3 id="基本使用" tabindex="-1"><a class="header-anchor" href="#基本使用"><span>基本使用</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 以默认格式显示系统运行信息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 显示完整的进程路径及名称</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 以批处理模式显示程序信息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -b</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="高级用法" tabindex="-1"><a class="header-anchor" href="#高级用法"><span>高级用法</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 每隔5秒刷新一次信息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 显示5次后自动退出</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 监控指定进程</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 4360,4358</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 监控指定用户的进程</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -U</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> johndoe</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 按用户名</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 500</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       # 按用户ID</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 显示所有进程信息，适合管道调用</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -bn</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 以MB为单位显示内存信息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -M</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 避免输出控制字符，适合管道调用</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 25097</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -b</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># top输出分页显示</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -bn1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">less</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="实用技巧" tabindex="-1"><a class="header-anchor" href="#实用技巧"><span>实用技巧</span></a></h2><ol><li><p><strong>快速排序</strong>：</p><ul><li>输入大写P：按CPU占用降序排序</li><li>输入大写M：按内存占用降序排序</li></ul></li><li><p><strong>多核CPU显示</strong>：</p><ul><li>按数字1：显示所有CPU核心的负载情况</li></ul></li><li><p><strong>批处理模式</strong>：</p><ul><li>使用 <code>-b</code> 参数可以将输出重定向到文件或管道</li></ul></li><li><p><strong>进程监控</strong>：</p><ul><li>可以同时监控多个指定进程：<code>top -p pid1,pid2,pid3</code></li></ul></li><li><p><strong>配置保存</strong>：</p><ul><li>在交互模式下按 <code>W</code> 键可以将当前配置保存到 <code>~/.toprc</code> 文件</li></ul></li></ol><h2 id="增强版替代工具" tabindex="-1"><a class="header-anchor" href="#增强版替代工具"><span>增强版替代工具</span></a></h2><p><strong>htop</strong>：一个更加强大的交互式进程管理器，提供更好的可视化界面和更丰富的功能。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 安装htop（CentOS/RHEL）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> htop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 安装htop（Ubuntu/Debian）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> htop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 运行htop</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">htop</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><ol><li>在高负载系统上，过于频繁的刷新可能会增加系统负担</li><li>使用 <code>-s</code> 安全模式可以防止误操作</li><li>在虚拟化环境中，要特别关注 <code>st</code>（steal time）值</li><li>系统负载值持续大于CPU核心数时，需要考虑系统优化</li><li>当swap使用量大于0时，通常表示系统内存不足</li></ol><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>top命令是Linux系统管理中最重要的监控工具之一，通过熟练掌握其各项功能和参数，可以快速诊断系统性能问题，是每个Linux运维人员必须掌握的基础技能。</p>`,56)]))}const p=s(e,[["render",l]]),o=JSON.parse(`{"path":"/linux/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/top.html","title":"top命令-系统实时监控","lang":"zh-CN","frontmatter":{"title":"top命令-系统实时监控","category":["Linux","命令帮助"],"tag":["top","系统监控","进程管理","性能分析"],"date":"2022-10-08T00:00:00.000Z","description":"top命令 概述 top命令的功能是实时显示系统运行状态，包含处理器、内存、服务、进程等重要资产信息。运维工程师们常常会把top命令比作\\"加强版的Windows任务管理器\\"，因为除了能看到常规的服务进程信息之外，还能够对处理器和内存的负载情况一目了然，实时感知系统全局的运行状态。 top命令主要用来监控系统实时负载率、进程的资源占用率及其它各项系统状态...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"top命令-系统实时监控\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-10-08T00:00:00.000Z\\",\\"dateModified\\":\\"2025-07-09T15:12:33.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"tuonioooo\\",\\"url\\":\\"/\\"}]}"],["meta",{"property":"og:url","content":"https://mister-hope.github.io/linux/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/top.html"}],["meta",{"property":"og:site_name","content":"tuonioooo's DevOps Docs"}],["meta",{"property":"og:title","content":"top命令-系统实时监控"}],["meta",{"property":"og:description","content":"top命令 概述 top命令的功能是实时显示系统运行状态，包含处理器、内存、服务、进程等重要资产信息。运维工程师们常常会把top命令比作\\"加强版的Windows任务管理器\\"，因为除了能看到常规的服务进程信息之外，还能够对处理器和内存的负载情况一目了然，实时感知系统全局的运行状态。 top命令主要用来监控系统实时负载率、进程的资源占用率及其它各项系统状态..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-07-09T15:12:33.000Z"}],["meta",{"property":"article:tag","content":"性能分析"}],["meta",{"property":"article:tag","content":"进程管理"}],["meta",{"property":"article:tag","content":"系统监控"}],["meta",{"property":"article:tag","content":"top"}],["meta",{"property":"article:published_time","content":"2022-10-08T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-07-09T15:12:33.000Z"}]]},"git":{"createdTime":1752073953000,"updatedTime":1752073953000,"contributors":[{"name":"tuonioooo","username":"tuonioooo","email":"daizhaoman@sina.com","commits":1,"url":"https://github.com/tuonioooo"}]},"readingTime":{"minutes":7.61,"words":2284},"filePathRelative":"linux/进程管理工具/top.md","excerpt":"\\n<h2>概述</h2>\\n<p>top命令的功能是实时显示系统运行状态，包含处理器、内存、服务、进程等重要资产信息。运维工程师们常常会把top命令比作\\"加强版的Windows任务管理器\\"，因为除了能看到常规的服务进程信息之外，还能够对处理器和内存的负载情况一目了然，实时感知系统全局的运行状态。</p>\\n<p>top命令主要用来监控系统实时负载率、进程的资源占用率及其它各项系统状态属性是否正常。它非常适合作为接手服务器后执行的第一条命令。</p>\\n<h2>语法格式</h2>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-bash\\"><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">top</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> [参数] [对象]</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{p as comp,o as data};
