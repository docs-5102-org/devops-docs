import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,a as i,o as n}from"./app-Chw5Q7wx.js";const t={};function l(o,e){return n(),s("div",null,e[0]||(e[0]=[i(`<h1 id="bat脚本实战" tabindex="-1"><a class="header-anchor" href="#bat脚本实战"><span>BAT脚本实战</span></a></h1><h2 id="bat执行脚本调用imagemagic执行转图的脚本" tabindex="-1"><a class="header-anchor" href="#bat执行脚本调用imagemagic执行转图的脚本"><span>bat执行脚本调用Imagemagic执行转图的脚本</span></a></h2><p>这是一个Windows批处理脚本，用于处理和清理某种项目文件夹结构。让我来分析一下它的功能和使用方法：</p><h3 id="主要功能" tabindex="-1"><a class="header-anchor" href="#主要功能"><span>主要功能：</span></a></h3><ol><li><strong>图片格式转换</strong>：将 <code>.jpg</code> 文件转换为 <code>.gif</code> 文件</li><li><strong>图片优化</strong>：根据颜色数量自动选择压缩级别</li><li><strong>文件清理</strong>：删除不需要的文件和文件夹</li></ol><h3 id="处理的文件夹结构" tabindex="-1"><a class="header-anchor" href="#处理的文件夹结构"><span>处理的文件夹结构：</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>源文件夹/</span></span>
<span class="line"><span>├── files/</span></span>
<span class="line"><span>│   ├── mobile/     (处理jpg转gif)</span></span>
<span class="line"><span>│   ├── thumb/      (处理jpg转gif) </span></span>
<span class="line"><span>│   ├── extfiles/   (删除整个文件夹)</span></span>
<span class="line"><span>│   └── mobile-ext/ (删除整个文件夹)</span></span>
<span class="line"><span>└── mobile/</span></span>
<span class="line"><span>    ├── style/</span></span>
<span class="line"><span>    │   ├── icon/   (删除整个文件夹)</span></span>
<span class="line"><span>    │   ├── raw/    (删除整个文件夹)</span></span>
<span class="line"><span>    │   └── *.css   (删除多个CSS文件)</span></span>
<span class="line"><span>    └── javascript/</span></span>
<span class="line"><span>        └── *.js    (删除多个JS文件)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="基本语法" tabindex="-1"><a class="header-anchor" href="#基本语法"><span>基本语法：</span></a></h3><div class="language-batch line-numbers-mode" data-highlighter="shiki" data-ext="batch" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-batch"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">scriptname.bat </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;源文件夹路径&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="使用示例" tabindex="-1"><a class="header-anchor" href="#使用示例"><span>使用示例：</span></a></h3><div class="language-batch line-numbers-mode" data-highlighter="shiki" data-ext="batch" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-batch"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"># 处理D盘的project文件夹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">convert.bat </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;D:\\project&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"># 处理当前目录下的myfiles文件夹  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">convert.bat </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;C:\\Users\\Username\\myfiles&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="具体处理流程" tabindex="-1"><a class="header-anchor" href="#具体处理流程"><span>具体处理流程</span></a></h3><h4 id="_1-图片转换-mobile和thumb文件夹" tabindex="-1"><a class="header-anchor" href="#_1-图片转换-mobile和thumb文件夹"><span>1. 图片转换（mobile和thumb文件夹）</span></a></h4><ul><li>扫描 <code>.jpg</code> 文件</li><li>使用ImageMagick的 <code>identify</code> 命令检测颜色数量</li><li>根据颜色数量选择压缩参数： <ul><li>颜色 &lt; 256：使用 <code>convert -colors 8</code></li><li>颜色 ≥ 256：使用 <code>convert -colors 32</code></li></ul></li><li>转换完成后删除原始 <code>.jpg</code> 文件</li></ul><h4 id="_2-文件清理" tabindex="-1"><a class="header-anchor" href="#_2-文件清理"><span>2. 文件清理</span></a></h4><p>删除以下文件和文件夹：</p><ul><li><code>files\\extfiles\\</code> 文件夹</li><li><code>files\\mobile-ext\\</code> 文件夹</li><li><code>mobile\\style\\icon\\</code> 文件夹</li><li><code>mobile\\style\\raw\\</code> 文件夹</li><li>多个CSS和JS文件</li></ul><h3 id="使用前提条件" tabindex="-1"><a class="header-anchor" href="#使用前提条件"><span>使用前提条件</span></a></h3><ol><li><strong>安装ImageMagick</strong>：脚本使用 <code>convert</code> 和 <code>identify</code> 命令</li><li><strong>文件夹结构匹配</strong>：目标文件夹需要有相应的子文件夹结构</li><li><strong>管理员权限</strong>：可能需要管理员权限来删除某些文件</li></ol><p><a href="./file/run.bat">run</a></p>`,20)]))}const d=a(t,[["render",l]]),p=JSON.parse(`{"path":"/script/bat/bat-simple.html","title":"脚本实战","lang":"zh-CN","frontmatter":{"title":"脚本实战","category":["脚本开发"],"tag":["BAT"],"date":"2022-02-10T00:00:00.000Z","description":"BAT脚本实战 bat执行脚本调用Imagemagic执行转图的脚本 这是一个Windows批处理脚本，用于处理和清理某种项目文件夹结构。让我来分析一下它的功能和使用方法： 主要功能： 图片格式转换：将 .jpg 文件转换为 .gif 文件 图片优化：根据颜色数量自动选择压缩级别 文件清理：删除不需要的文件和文件夹 处理的文件夹结构： 基本语法： 使用...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"脚本实战\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-02-10T00:00:00.000Z\\",\\"dateModified\\":\\"2025-08-02T10:09:34.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"tuonioooo\\",\\"url\\":\\"/\\"}]}"],["meta",{"property":"og:url","content":"https://mister-hope.github.io/devops-docs/script/bat/bat-simple.html"}],["meta",{"property":"og:site_name","content":"tuonioooo's DevOps Docs"}],["meta",{"property":"og:title","content":"脚本实战"}],["meta",{"property":"og:description","content":"BAT脚本实战 bat执行脚本调用Imagemagic执行转图的脚本 这是一个Windows批处理脚本，用于处理和清理某种项目文件夹结构。让我来分析一下它的功能和使用方法： 主要功能： 图片格式转换：将 .jpg 文件转换为 .gif 文件 图片优化：根据颜色数量自动选择压缩级别 文件清理：删除不需要的文件和文件夹 处理的文件夹结构： 基本语法： 使用..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-02T10:09:34.000Z"}],["meta",{"property":"article:tag","content":"BAT"}],["meta",{"property":"article:published_time","content":"2022-02-10T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-02T10:09:34.000Z"}]]},"git":{"createdTime":1754129374000,"updatedTime":1754129374000,"contributors":[{"name":"tuonioooo","username":"tuonioooo","email":"daizhaoman@sina.com","commits":1,"url":"https://github.com/tuonioooo"}]},"readingTime":{"minutes":1.49,"words":447},"filePathRelative":"script/bat/bat-simple.md","excerpt":"\\n<h2>bat执行脚本调用Imagemagic执行转图的脚本</h2>\\n<p>这是一个Windows批处理脚本，用于处理和清理某种项目文件夹结构。让我来分析一下它的功能和使用方法：</p>\\n<h3>主要功能：</h3>\\n<ol>\\n<li><strong>图片格式转换</strong>：将 <code>.jpg</code> 文件转换为 <code>.gif</code> 文件</li>\\n<li><strong>图片优化</strong>：根据颜色数量自动选择压缩级别</li>\\n<li><strong>文件清理</strong>：删除不需要的文件和文件夹</li>\\n</ol>\\n<h3>处理的文件夹结构：</h3>","autoDesc":true}`);export{d as comp,p as data};
