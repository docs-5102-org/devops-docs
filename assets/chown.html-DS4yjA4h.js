import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as n,o as l}from"./app-Chw5Q7wx.js";const e={};function t(h,s){return l(),a("div",null,s[0]||(s[0]=[n(`<h1 id="chown命令-文件所有权管理" tabindex="-1"><a class="header-anchor" href="#chown命令-文件所有权管理"><span>chown命令-文件所有权管理</span></a></h1><h2 id="一、前言" tabindex="-1"><a class="header-anchor" href="#一、前言"><span>一、前言</span></a></h2><p>Linux下所有资源、设备均被视作文件来操作，而文件权限则是决定用户可各文件操作的范围，无论是平时使用Linux，还是写程序均涉及这方面。本指南详细介绍Linux文件权限系统和chown命令的使用。</p><h2 id="二、linux文件权限类型详解" tabindex="-1"><a class="header-anchor" href="#二、linux文件权限类型详解"><span>二、Linux文件权限类型详解</span></a></h2><h3 id="_1-普通权限" tabindex="-1"><a class="header-anchor" href="#_1-普通权限"><span>1. 普通权限</span></a></h3><table><thead><tr><th>权限</th><th>文件</th><th>目录</th></tr></thead><tbody><tr><td><strong>r（读权限）</strong></td><td>查看文件内容</td><td>列出其子目录结构信息（可执行 <code>ls 目录</code>）</td></tr><tr><td><strong>w（写权限）</strong></td><td>配合r权限，则可对文件进行修改和删除</td><td>配合x权限就可以添加、删除和移动内部文件，而删除目录和复制目录内文件则需要配合r和x权限</td></tr><tr><td><strong>x（执行权限）</strong></td><td>配合r权限，可执行的权限</td><td>可以进入该目录和对其下文件作操作（可执行 <code>cd 目录</code>）</td></tr></tbody></table><h3 id="_2-特殊权限" tabindex="-1"><a class="header-anchor" href="#_2-特殊权限"><span>2. 特殊权限</span></a></h3><p><strong>场景1：</strong> 用户A在调用程序B时，且程序B需要修改文件C，而用户A无权修改文件C，那么程序B同样将被拒绝修改文件C。</p><p><strong>原因：</strong> 程序将使用调用者（就是用户A）的用户标识去对系统作操作，程序的权限与调用者的权限一致。</p><p><strong>解决办法：</strong> 使用特殊权限SUID和SGID。</p><table><thead><tr><th>权限</th><th>文件</th><th>目录</th></tr></thead><tbody><tr><td><strong>SUID</strong></td><td>注意：仅对二进制可执行文件设置<br>二进制可执行文件会以所有者和调用者的用户标识去执行，也就是拥有两者的权限</td><td>不对目录设置</td></tr><tr><td><strong>SGID</strong></td><td>注意：仅对二进制可执行文件设置<br>二进制可执行文件会以所属组和调用者的标识去执行，也就是拥有两者的权限</td><td>在目录下创建文件、目录等，其所属组与该目录的所属组相同。而不是所有者的用户组了</td></tr></tbody></table><p><strong>场景2：</strong> 某用户在执行 <code>rm -rf 目录/*</code> 时，把所有者不是它的文件、目录都误删除了。</p><p><strong>原因：</strong> 默认情况下，只要用户拥有某目录的wx权限，则可以删除、剪切该目录下的所有文件、目录，即使该用户对该目录下的文件、目录任何权限都没有。</p><p><strong>解决办法：</strong> 使用特殊权限SBIT。</p><table><thead><tr><th>权限</th><th>文件</th><th>目录</th></tr></thead><tbody><tr><td><strong>SBIT（stick bit，粘滞位）</strong></td><td>不对文件设置</td><td>配合wx权限，仅目录的所有者、子目录或文件的所有者和root用户才能删除、移动该目录下的子目录和文件</td></tr></tbody></table><p><a href="../_resources/CentOS6.5%E8%8F%9C%E9%B8%9F%E4%B9%8B%E6%97%85%EF%BC%9A%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E8%AF%A6%E8%A7%A3.resources/unknown_filename.3.gif"></a></p><h3 id="_3-隐藏权限" tabindex="-1"><a class="header-anchor" href="#_3-隐藏权限"><span>3. 隐藏权限</span></a></h3><p>共13种，仅在文件系统格式为Ext2+才有效。</p><h2 id="三、通过命令了解权限" tabindex="-1"><a class="header-anchor" href="#三、通过命令了解权限"><span>三、通过命令了解权限</span></a></h2><h3 id="_1-查看权限" tabindex="-1"><a class="header-anchor" href="#_1-查看权限"><span>1. 查看权限</span></a></h3><p>输入 <code>ls -l</code> 就可以查看当前目录下所有文件和子目录的权限信息。</p><p>假设回显信息为：<code>-rwsr-xr-x 1 root root 430540 Dec 20 18:27 /usr/sbin/passwd</code></p><p>逐一分析其内容：</p><ul><li>①首字符<code>-</code>：表示该文件为普通文件 <ul><li><code>-</code>：普通文件</li><li><code>d</code>：目录文件</li><li><code>l</code>：符号链接</li><li><code>c</code>：字符设备文件</li><li><code>b</code>：字节设备文件</li><li><code>p</code>：先进先出文件</li><li><code>s</code>：套接字文件</li></ul></li><li>②第2~4个字符：表示所有者（owner）的权限</li><li>③第5~7个字符：表示所属组（group）的权限</li><li>④第8~10个字符：表示其他用户（other）的权限</li><li>⑤第11个字符：表示硬链接数</li><li>⑥文件所有者的用户名称（owner）</li><li>⑦文件所属组的用户组名称（group）</li><li>⑧文件大小，以块为单位，通过 <code>ls -lh</code> 则会以KB，MB作单位</li><li>⑨最后修改日期</li><li>⑩文件或目录的绝对路径</li></ul><p>从上述内容我们可以得知Linux下的权限角色有三种，分别是<strong>所有者（owner）</strong>、<strong>所属组（group）<strong>和</strong>其他用户（other）</strong>。</p><h3 id="_2-权限表示形式" tabindex="-1"><a class="header-anchor" href="#_2-权限表示形式"><span>2. 权限表示形式</span></a></h3><h4 id="a-符号表示法" tabindex="-1"><a class="header-anchor" href="#a-符号表示法"><span>[a]. 符号表示法</span></a></h4><p><strong>普通权限：</strong></p><ul><li><code>r</code>：读权限</li><li><code>w</code>：写权限</li><li><code>x</code>：可执行权限</li></ul><p><strong>特殊权限：</strong></p><ul><li>SUID权限只能设置在所有者权限位中，<code>s</code>表示二进制可执行文件同时拥有SUID权限和x可执行权限；<code>S</code>表示二进制可执行文件拥有SUID权限但没有x可执行权限。</li><li>SGID权限只能设置在所属组权限位中，<code>s</code>表示二进制可执行文件或目录同时拥有SGID权限和x可执行权限；<code>S</code>表示二进制可执行文件或目录拥有SGID权限但没有x可执行权限。</li><li>SBIT权限只能设置在其他用户权限位中，<code>t</code>表示目录同时拥有SBIT权限和x可执行权限；<code>T</code>表示目录拥有SBIT权限但没有x可执行权限。</li></ul><h4 id="b-数字表示法" tabindex="-1"><a class="header-anchor" href="#b-数字表示法"><span>[b]. 数字表示法</span></a></h4><p>数字表示法采用二进制形式计算，八进制形式设置的方式。<br> 二进制形式计算，1代表有权限，0代表无权限：</p><table><thead><tr><th></th><th></th><th></th><th><strong>所有者</strong></th><th></th><th></th><th><strong>所属组</strong></th><th></th><th></th><th><strong>其他用户</strong></th><th></th><th></th></tr></thead><tbody><tr><td><strong>SUID</strong></td><td><strong>SGID</strong></td><td><strong>SBIT</strong></td><td><strong>R</strong></td><td><strong>W</strong></td><td><strong>X</strong></td><td><strong>R</strong></td><td><strong>W</strong></td><td><strong>X</strong></td><td><strong>R</strong></td><td><strong>W</strong></td><td><strong>X</strong></td></tr><tr><td>1/0</td><td>1/0</td><td>1/0</td><td>1/0</td><td>1/0</td><td>1/0</td><td>1/0</td><td>1/0</td><td>1/0</td><td>1/0</td><td>1/0</td><td>1/0</td></tr></tbody></table><p>然后每三位为一组转为八进制，例如现在二进制形式为100111101101，那么转为八进制则为4755。</p><p>然后通过 <code>chmod 4755 文件</code> 就可以改变文件的权限，<code>ls -l</code> 回显中权限部分则为<code>rwsr-xr-x</code>。</p><p><strong>注意：</strong></p><ol><li>若不设置特殊权限时，我们可以直接省去八进制的第一位数，例如：<code>chmod 755 文件</code></li><li>采用数字表示法设置特殊权限，仅能启动特殊权限，却无法关闭。例如，文件A拥有特殊权限SUID和SGID，执行 <code>chmod 0755 文件A</code>，但通过 <code>ls -l</code> 查看权限依然为<code>rwsr-sr-x</code>。</li></ol><h2 id="四、通过符号表示法设置权限" tabindex="-1"><a class="header-anchor" href="#四、通过符号表示法设置权限"><span>四、通过符号表示法设置权限</span></a></h2><h3 id="设置普通权限" tabindex="-1"><a class="header-anchor" href="#设置普通权限"><span>设置普通权限</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 为所有者、所属组和其他用户添加执行的权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> +x</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 文件路径</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 为所有者、所属组和其他用户删除执行的权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -x</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 文件路径</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 为所有者添加执行的权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> u+x</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 文件路径</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 为所属组添加执行的权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> g+x</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 文件路径</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 为其他用户添加执行的权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> o+x</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 文件路径</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 为所有者、所属组添加执行的权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ug+x</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 文件路径</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 为所有者、所属组和其他用户添加写、执行的权限，取消读权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =wx</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 文件路径</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 为所有者、所属组添加写、执行的权限，取消读权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ug=wx</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 文件路径</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="设置特殊权限" tabindex="-1"><a class="header-anchor" href="#设置特殊权限"><span>设置特殊权限</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 开启、关闭SUID</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> u+s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 文件名</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> u-s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 文件名</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 开启、关闭SGID</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> g+s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 文件名</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> g-s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 文件名</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 开启、关闭SBIT</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> o+t</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 文件名</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> o-t</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 文件名</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="五、chown命令详解" tabindex="-1"><a class="header-anchor" href="#五、chown命令详解"><span>五、chown命令详解</span></a></h2><h3 id="_1-chown命令概述" tabindex="-1"><a class="header-anchor" href="#_1-chown命令概述"><span>1. chown命令概述</span></a></h3><p>在Linux中，文件所有权对于安全性和用户管理至关重要。chown命令，或&quot;change owner&quot;，允许用户修改文件和目录所有权，便于访问控制。只有root（或文件的当前所有者）才能运行它。</p><h3 id="_2-chown命令语法" tabindex="-1"><a class="header-anchor" href="#_2-chown命令语法"><span>2. chown命令语法</span></a></h3><p>语法：chown [选项] 所有者[:组] 文件…；使用-R递归应用更改。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chown</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [选项] 用户名[:组名] 文件或目录</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_3-基本用法示例" tabindex="-1"><a class="header-anchor" href="#_3-基本用法示例"><span>3. 基本用法示例</span></a></h3><h4 id="改变文件所有者" tabindex="-1"><a class="header-anchor" href="#改变文件所有者"><span>改变文件所有者</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 改变单个文件的所有者</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chown</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> john</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 改变多个文件的所有者</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chown</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> john</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file1.txt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file2.txt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file3.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 使用通配符改变多个文件的所有者</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chown</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> john</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> *</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="改变文件所有者和组" tabindex="-1"><a class="header-anchor" href="#改变文件所有者和组"><span>改变文件所有者和组</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 同时改变所有者和组</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chown</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> john:developers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 使用点号分隔符（等同于冒号）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chown</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> john.developers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 只改变组（保持所有者不变）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chown</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :developers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="递归改变目录及其内容的所有权" tabindex="-1"><a class="header-anchor" href="#递归改变目录及其内容的所有权"><span>递归改变目录及其内容的所有权</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 递归改变目录及其所有子目录和文件的所有权</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chown</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -R</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> john:developers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/project/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 递归改变但保持符号链接不变</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chown</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -h</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> john</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file_link</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-常用选项" tabindex="-1"><a class="header-anchor" href="#_4-常用选项"><span>4. 常用选项</span></a></h3><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td><code>-R, --recursive</code></td><td>递归地改变目录及其子目录和文件的所有权</td></tr><tr><td><code>-c, --changes</code></td><td>仅当发生更改时显示信息</td></tr><tr><td><code>-f, --silent, --quiet</code></td><td>禁止大多数错误消息</td></tr><tr><td><code>-v, --verbose</code></td><td>为每个处理的文件输出诊断信息</td></tr><tr><td><code>--reference=RFILE</code></td><td>使用RFILE的所有者和组而不是指定OWNER:GROUP值</td></tr><tr><td><code>-h, --no-dereference</code></td><td>影响符号链接本身而不是引用的文件</td></tr></tbody></table><h3 id="_5-实际应用示例" tabindex="-1"><a class="header-anchor" href="#_5-实际应用示例"><span>5. 实际应用示例</span></a></h3><h4 id="示例1-web服务器文件权限设置" tabindex="-1"><a class="header-anchor" href="#示例1-web服务器文件权限设置"><span>示例1：Web服务器文件权限设置</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 将网站文件的所有权转移给web服务器用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> chown</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -R</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> www-data:www-data</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /var/www/html/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 设置日志文件的所有权</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> chown</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> syslog:adm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /var/log/myapp.log</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="示例2-新用户目录设置" tabindex="-1"><a class="header-anchor" href="#示例2-新用户目录设置"><span>示例2：新用户目录设置</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 创建新用户目录并设置正确的所有权</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/newuser</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> chown</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> newuser:users</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/newuser</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> chmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 755</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /home/newuser</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="示例3-数据库文件权限" tabindex="-1"><a class="header-anchor" href="#示例3-数据库文件权限"><span>示例3：数据库文件权限</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 设置MySQL数据目录的所有权</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> chown</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -R</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql:mysql</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /var/lib/mysql/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-使用uid和gid" tabindex="-1"><a class="header-anchor" href="#_6-使用uid和gid"><span>6. 使用UID和GID</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 使用用户ID和组ID（当用户名不存在时有用）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chown</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1000:1000</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看用户的UID和GID</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">id</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> username</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-错误处理和最佳实践" tabindex="-1"><a class="header-anchor" href="#_7-错误处理和最佳实践"><span>7. 错误处理和最佳实践</span></a></h3><h4 id="常见错误信息" tabindex="-1"><a class="header-anchor" href="#常见错误信息"><span>常见错误信息</span></a></h4><ul><li><code>Operation not permitted</code>：没有足够权限，需要使用sudo</li><li><code>Invalid user</code>：指定的用户不存在</li><li><code>Invalid group</code>：指定的组不存在</li></ul><h4 id="最佳实践" tabindex="-1"><a class="header-anchor" href="#最佳实践"><span>最佳实践</span></a></h4><ol><li><strong>使用sudo</strong>：普通用户改变文件所有权通常需要管理员权限</li><li><strong>验证用户和组存在</strong>：使用前确认用户和组名正确</li><li><strong>小心使用递归选项</strong>：<code>-R</code> 选项会影响所有子文件和目录</li><li><strong>备份重要文件</strong>：在批量更改前备份重要数据</li><li><strong>测试命令</strong>：在小范围内测试命令效果</li></ol><h2 id="六、查看用户信息" tabindex="-1"><a class="header-anchor" href="#六、查看用户信息"><span>六、查看用户信息</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看当前用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">whoami</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看当前用户所属组</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">groups</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看其他用户所属组</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">groups</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 用户1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 用户2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看用户详细信息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">id</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> username</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="七、其他相关命令" tabindex="-1"><a class="header-anchor" href="#七、其他相关命令"><span>七、其他相关命令</span></a></h2><h3 id="_1-chgrp命令-改变组所有权" tabindex="-1"><a class="header-anchor" href="#_1-chgrp命令-改变组所有权"><span>1. chgrp命令（改变组所有权）</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 改变文件组所有权</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chgrp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> developers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 递归改变目录组所有权</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chgrp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -R</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> developers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /project/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-组合使用示例" tabindex="-1"><a class="header-anchor" href="#_2-组合使用示例"><span>2. 组合使用示例</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 先改变所有权，再设置权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chown</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> john:developers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file.txt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 755</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 或者一步完成</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chown</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> john:developers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file.txt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 755</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="八、用户和用户组管理" tabindex="-1"><a class="header-anchor" href="#八、用户和用户组管理"><span>八、用户和用户组管理</span></a></h2><h3 id="_1-添加用户" tabindex="-1"><a class="header-anchor" href="#_1-添加用户"><span>1. 添加用户</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 添加用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">useradd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [-u </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">uid]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [-g </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">group]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [-d </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">home]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [-s </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">shell]</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 用户名</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 示例：添加用户garfield</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">useradd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> garfield</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 设置密码</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">passwd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> garfield</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-用户操作" tabindex="-1"><a class="header-anchor" href="#_2-用户操作"><span>2. 用户操作</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 禁用用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">usermod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -L</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 用户名</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 启用用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">usermod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -U</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 用户名</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 将用户添加到组</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">usermod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 用户组名</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 用户</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 改变用户的主组</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">usermod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -g</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 用户组名</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 用户</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 修改用户名</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">usermod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 新用户名</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 旧用户名</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 删除用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">userdel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 用户名</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-用户组管理" tabindex="-1"><a class="header-anchor" href="#_3-用户组管理"><span>3. 用户组管理</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 添加用户组</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">groupadd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [-g </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">gid</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [-o]] [-r] [-f] 用户组名</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 修改用户组名称</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">groupmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 新用户组名</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 旧用户组名</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 删除用户组</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">groupdel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 用户组名</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="九、重要配置文件" tabindex="-1"><a class="header-anchor" href="#九、重要配置文件"><span>九、重要配置文件</span></a></h2><h3 id="_1-etc-passwd" tabindex="-1"><a class="header-anchor" href="#_1-etc-passwd"><span>1. /etc/passwd</span></a></h3><p>存放用户信息，格式：<br><code>用户名:密码:用户ID:组ID:注释:家目录:Shell</code></p><h3 id="_2-etc-shadow" tabindex="-1"><a class="header-anchor" href="#_2-etc-shadow"><span>2. /etc/shadow</span></a></h3><p>存放加密密码和密码策略，仅root可读。</p><h3 id="_3-etc-group" tabindex="-1"><a class="header-anchor" href="#_3-etc-group"><span>3. /etc/group</span></a></h3><p>存放组信息，格式：<br><code>组名:密码:组ID:成员列表</code></p><h2 id="十、安全注意事项" tabindex="-1"><a class="header-anchor" href="#十、安全注意事项"><span>十、安全注意事项</span></a></h2><ol><li><strong>谨慎使用root权限</strong>：只在必要时使用sudo</li><li><strong>验证命令参数</strong>：确保用户名、组名和文件路径正确</li><li><strong>定期审查文件权限</strong>：使用<code>find</code>命令查找异常权限的文件</li><li><strong>日志监控</strong>：监控chown命令的使用情况</li><li><strong>最小权限原则</strong>：只给予必要的最小权限</li></ol><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>Linux文件权限系统是系统安全的基础，chown命令作为权限管理的重要工具，允许管理员精确控制文件和目录的所有权。正确理解和使用这些概念对于Linux系统管理至关重要。通过合理配置文件权限和所有权，可以确保系统的安全性和稳定性。</p>`,97)]))}const p=i(e,[["render",t]]),k=JSON.parse(`{"path":"/linux/%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E2%80%8B/chown.html","title":"chown命令-文件所有权管理","lang":"zh-CN","frontmatter":{"title":"chown命令-文件所有权管理","category":["Linux","文件权限管理"],"tag":["chown","文件所有权","用户管理","系统安全"],"date":"2022-07-31T00:00:00.000Z","description":"chown命令-文件所有权管理 一、前言 Linux下所有资源、设备均被视作文件来操作，而文件权限则是决定用户可各文件操作的范围，无论是平时使用Linux，还是写程序均涉及这方面。本指南详细介绍Linux文件权限系统和chown命令的使用。 二、Linux文件权限类型详解 1. 普通权限 2. 特殊权限 场景1： 用户A在调用程序B时，且程序B需要修改...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"chown命令-文件所有权管理\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-07-31T00:00:00.000Z\\",\\"dateModified\\":\\"2025-07-09T15:12:33.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"tuonioooo\\",\\"url\\":\\"/\\"}]}"],["meta",{"property":"og:url","content":"https://mister-hope.github.io/devops-docs/linux/%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E2%80%8B/chown.html"}],["meta",{"property":"og:site_name","content":"tuonioooo's DevOps Docs"}],["meta",{"property":"og:title","content":"chown命令-文件所有权管理"}],["meta",{"property":"og:description","content":"chown命令-文件所有权管理 一、前言 Linux下所有资源、设备均被视作文件来操作，而文件权限则是决定用户可各文件操作的范围，无论是平时使用Linux，还是写程序均涉及这方面。本指南详细介绍Linux文件权限系统和chown命令的使用。 二、Linux文件权限类型详解 1. 普通权限 2. 特殊权限 场景1： 用户A在调用程序B时，且程序B需要修改..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-07-09T15:12:33.000Z"}],["meta",{"property":"article:tag","content":"系统安全"}],["meta",{"property":"article:tag","content":"用户管理"}],["meta",{"property":"article:tag","content":"文件所有权"}],["meta",{"property":"article:tag","content":"chown"}],["meta",{"property":"article:published_time","content":"2022-07-31T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-07-09T15:12:33.000Z"}]]},"git":{"createdTime":1752073953000,"updatedTime":1752073953000,"contributors":[{"name":"tuonioooo","username":"tuonioooo","email":"daizhaoman@sina.com","commits":1,"url":"https://github.com/tuonioooo"}]},"readingTime":{"minutes":10.12,"words":3035},"filePathRelative":"linux/文件权限管理​/chown.md","excerpt":"\\n<h2>一、前言</h2>\\n<p>Linux下所有资源、设备均被视作文件来操作，而文件权限则是决定用户可各文件操作的范围，无论是平时使用Linux，还是写程序均涉及这方面。本指南详细介绍Linux文件权限系统和chown命令的使用。</p>\\n<h2>二、Linux文件权限类型详解</h2>\\n<h3>1. 普通权限</h3>\\n<table>\\n<thead>\\n<tr>\\n<th>权限</th>\\n<th>文件</th>\\n<th>目录</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td><strong>r（读权限）</strong></td>\\n<td>查看文件内容</td>\\n<td>列出其子目录结构信息（可执行 <code>ls 目录</code>）</td>\\n</tr>\\n<tr>\\n<td><strong>w（写权限）</strong></td>\\n<td>配合r权限，则可对文件进行修改和删除</td>\\n<td>配合x权限就可以添加、删除和移动内部文件，而删除目录和复制目录内文件则需要配合r和x权限</td>\\n</tr>\\n<tr>\\n<td><strong>x（执行权限）</strong></td>\\n<td>配合r权限，可执行的权限</td>\\n<td>可以进入该目录和对其下文件作操作（可执行 <code>cd 目录</code>）</td>\\n</tr>\\n</tbody>\\n</table>","autoDesc":true}`);export{p as comp,k as data};
