import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as e,o as t}from"./app-DgGiCkCw.js";const h={};function n(l,i){return t(),a("div",null,i[0]||(i[0]=[e(`<h1 id="wget命令-网络上下载文件" tabindex="-1"><a class="header-anchor" href="#wget命令-网络上下载文件"><span>wget命令-网络上下载文件</span></a></h1><h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><p><code>wget</code>是一个在Linux系统中用于从网络上下载文件的命令行工具。它支持HTTP、HTTPS和FTP协议，可以在非交互式环境下工作，这意味着它可以在用户退出系统后继续在后台运行下载任务。<code>wget</code>因其稳定性和强大的功能而广受欢迎，即使在网络不稳定的情况下也能可靠地完成下载任务。</p><h2 id="基本语法" tabindex="-1"><a class="header-anchor" href="#基本语法"><span>基本语法</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [选项] [URL]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="主要特性" tabindex="-1"><a class="header-anchor" href="#主要特性"><span>主要特性</span></a></h2><ul><li>支持HTTP、HTTPS和FTP协议</li><li>支持HTTP代理</li><li>支持断点续传</li><li>支持后台下载</li><li>支持递归下载（可以下载整个网站）</li><li>支持转换链接为本地链接，便于离线浏览</li><li>在不稳定网络中具有良好的适应性</li><li>支持限速下载</li><li>完全免费且体积小巧</li></ul><h2 id="常用选项" tabindex="-1"><a class="header-anchor" href="#常用选项"><span>常用选项</span></a></h2><h3 id="基本选项" tabindex="-1"><a class="header-anchor" href="#基本选项"><span>基本选项</span></a></h3><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td>-V, --version</td><td>显示版本信息</td></tr><tr><td>-h, --help</td><td>显示帮助信息</td></tr><tr><td>-b, --background</td><td>下载后转入后台执行</td></tr><tr><td>-e, --execute=COMMAND</td><td>执行<code>.wgetrc</code>格式的命令</td></tr></tbody></table><h3 id="日志和输入文件选项" tabindex="-1"><a class="header-anchor" href="#日志和输入文件选项"><span>日志和输入文件选项</span></a></h3><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td>-o, --output-file=FILE</td><td>将日志写入指定文件</td></tr><tr><td>-a, --append-output=FILE</td><td>将日志追加到指定文件</td></tr><tr><td>-d, --debug</td><td>打印调试输出</td></tr><tr><td>-q, --quiet</td><td>安静模式（无输出）</td></tr><tr><td>-v, --verbose</td><td>详细模式（默认）</td></tr><tr><td>-i, --input-file=FILE</td><td>下载文件中列出的URL</td></tr></tbody></table><h3 id="下载选项" tabindex="-1"><a class="header-anchor" href="#下载选项"><span>下载选项</span></a></h3><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td>-O, --output-document=FILE</td><td>将下载内容写入指定文件</td></tr><tr><td>-c, --continue</td><td>断点续传</td></tr><tr><td>-N, --timestamping</td><td>只下载比本地文件新的文件</td></tr><tr><td>--limit-rate=RATE</td><td>限制下载速度（如：200k）</td></tr><tr><td>-t, --tries=NUMBER</td><td>设置重试次数（0表示无限）</td></tr><tr><td>-T, --timeout=SECONDS</td><td>设置响应超时时间</td></tr><tr><td>-w, --wait=SECONDS</td><td>两次尝试之间等待的秒数</td></tr><tr><td>-Q, --quota=NUMBER</td><td>设置下载配额（如：5m表示5MB）</td></tr></tbody></table><h3 id="目录选项" tabindex="-1"><a class="header-anchor" href="#目录选项"><span>目录选项</span></a></h3><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td>-P, --directory-prefix=PREFIX</td><td>保存文件到指定目录</td></tr><tr><td>-nd, --no-directories</td><td>不创建目录</td></tr><tr><td>-x, --force-directories</td><td>强制创建目录</td></tr><tr><td>-nH, --no-host-directories</td><td>不创建主机目录</td></tr></tbody></table><h3 id="递归下载选项" tabindex="-1"><a class="header-anchor" href="#递归下载选项"><span>递归下载选项</span></a></h3><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td>-r, --recursive</td><td>递归下载</td></tr><tr><td>-l, --level=NUMBER</td><td>最大递归深度（0表示无限）</td></tr><tr><td>-k, --convert-links</td><td>转换链接为本地链接</td></tr><tr><td>-p, --page-requisites</td><td>下载显示页面所需的所有文件</td></tr><tr><td>-m, --mirror</td><td>镜像下载（等同于-r -N -l inf --no-remove-listing）</td></tr></tbody></table><h3 id="http选项" tabindex="-1"><a class="header-anchor" href="#http选项"><span>HTTP选项</span></a></h3><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td>--http-user=USER</td><td>设置HTTP用户名</td></tr><tr><td>--http-password=PASS</td><td>设置HTTP密码</td></tr><tr><td>-U, --user-agent=AGENT</td><td>设置用户代理字符串</td></tr><tr><td>--referer=URL</td><td>在HTTP请求中包含Referer头</td></tr><tr><td>--save-cookies=FILE</td><td>保存cookies到文件</td></tr><tr><td>--load-cookies=FILE</td><td>从文件加载cookies</td></tr></tbody></table><h3 id="ftp选项" tabindex="-1"><a class="header-anchor" href="#ftp选项"><span>FTP选项</span></a></h3><table><thead><tr><th>选项</th><th>描述</th></tr></thead><tbody><tr><td>--ftp-user=USER</td><td>设置FTP用户名</td></tr><tr><td>--ftp-password=PASS</td><td>设置FTP密码</td></tr><tr><td>--passive-ftp</td><td>使用被动传输模式（默认）</td></tr><tr><td>--active-ftp</td><td>使用主动传输模式</td></tr></tbody></table><h2 id="常用实例" tabindex="-1"><a class="header-anchor" href="#常用实例"><span>常用实例</span></a></h2><h3 id="_1-下载单个文件" tabindex="-1"><a class="header-anchor" href="#_1-下载单个文件"><span>1. 下载单个文件</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/file.zip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这将下载指定URL的文件并保存到当前目录，文件名与URL中的文件名相同。</p><h3 id="_2-指定保存文件名" tabindex="-1"><a class="header-anchor" href="#_2-指定保存文件名"><span>2. 指定保存文件名</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -O</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> custom_name.zip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/download?id=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">123</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用<code>-O</code>选项可以指定保存的文件名，这对于下载动态URL特别有用。</p><h3 id="_3-断点续传" tabindex="-1"><a class="header-anchor" href="#_3-断点续传"><span>3. 断点续传</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/large_file.iso</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用<code>-c</code>选项可以继续下载之前中断的文件，而不必重新开始。</p><h3 id="_4-限速下载" tabindex="-1"><a class="header-anchor" href="#_4-限速下载"><span>4. 限速下载</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --limit-rate=200k</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/large_file.iso</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>限制下载速度为200KB/s，避免占用全部带宽。</p><h3 id="_5-后台下载" tabindex="-1"><a class="header-anchor" href="#_5-后台下载"><span>5. 后台下载</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/large_file.iso</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将下载任务放到后台执行，输出会被重定向到<code>wget-log</code>文件。</p><h3 id="_6-下载多个文件" tabindex="-1"><a class="header-anchor" href="#_6-下载多个文件"><span>6. 下载多个文件</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> download_list.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>从<code>download_list.txt</code>文件中读取URL列表并下载，每行一个URL。</p><h3 id="_7-镜像整个网站" tabindex="-1"><a class="header-anchor" href="#_7-镜像整个网站"><span>7. 镜像整个网站</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -E</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>-m</code>：镜像下载</li><li><code>-p</code>：下载所有显示页面所需的文件（如图片）</li><li><code>-k</code>：转换链接为本地链接</li><li><code>-E</code>：将HTML文件保存为.html扩展名</li></ul><h3 id="_8-只下载特定类型的文件" tabindex="-1"><a class="header-anchor" href="#_8-只下载特定类型的文件"><span>8. 只下载特定类型的文件</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -r</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -A</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;*.pdf&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/documents/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>递归下载目录中所有PDF文件。</p><h3 id="_9-排除特定类型的文件" tabindex="-1"><a class="header-anchor" href="#_9-排除特定类型的文件"><span>9. 排除特定类型的文件</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -r</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -R</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;*.jpg,*.png,*.gif&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>递归下载时排除图片文件。</p><h3 id="_10-设置重试次数和等待时间" tabindex="-1"><a class="header-anchor" href="#_10-设置重试次数和等待时间"><span>10. 设置重试次数和等待时间</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -w</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/file.zip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>设置最大重试次数为5次，每次重试间隔3秒。</p><h3 id="_11-使用用户名和密码" tabindex="-1"><a class="header-anchor" href="#_11-使用用户名和密码"><span>11. 使用用户名和密码</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># HTTP基本认证</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --http-user=username</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --http-password=password</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/private/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># FTP认证</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --ftp-user=username</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --ftp-password=password</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ftp://example.com/file.zip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12-使用代理服务器" tabindex="-1"><a class="header-anchor" href="#_12-使用代理服务器"><span>12. 使用代理服务器</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> use_proxy=yes</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http_proxy=http://proxy.example.com:8080</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/file.zip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_13-检查url是否可访问-不下载" tabindex="-1"><a class="header-anchor" href="#_13-检查url是否可访问-不下载"><span>13. 检查URL是否可访问（不下载）</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --spider</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/file.zip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>只检查URL是否存在，不下载实际内容。</p><h3 id="_14-保存到指定目录" tabindex="-1"><a class="header-anchor" href="#_14-保存到指定目录"><span>14. 保存到指定目录</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -P</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /path/to/directory</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/file.zip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将下载的文件保存到指定目录。</p><h3 id="_15-设置超时时间" tabindex="-1"><a class="header-anchor" href="#_15-设置超时时间"><span>15. 设置超时时间</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -T</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 30</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/file.zip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>设置连接和读取超时时间为30秒。</p><h2 id="高级用法" tabindex="-1"><a class="header-anchor" href="#高级用法"><span>高级用法</span></a></h2><h3 id="使用-wgetrc配置文件" tabindex="-1"><a class="header-anchor" href="#使用-wgetrc配置文件"><span>使用.wgetrc配置文件</span></a></h3><p>可以在<code>/etc/wgetrc</code>（系统级）或<code>~/.wgetrc</code>（用户级）创建配置文件，设置默认选项：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># 示例配置</span></span>
<span class="line"><span>timeout = 60</span></span>
<span class="line"><span>tries = 3</span></span>
<span class="line"><span>retry_connrefused = on</span></span>
<span class="line"><span>limit_rate = 100k</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="下载并显示进度条" tabindex="-1"><a class="header-anchor" href="#下载并显示进度条"><span>下载并显示进度条</span></a></h3><p>默认情况下，wget会显示进度条。如果你想要更详细的进度信息：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --progress=dot:mega</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/large_file.iso</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>进度类型：</p><ul><li><code>dot</code>：显示点状进度条</li><li><code>bar</code>：显示条形进度条</li><li><code>mega</code>：以MB为单位显示已传输的数据量</li></ul><h3 id="使用正则表达式下载文件" tabindex="-1"><a class="header-anchor" href="#使用正则表达式下载文件"><span>使用正则表达式下载文件</span></a></h3><p>结合<code>-A</code>和<code>-R</code>选项可以使用模式匹配下载特定文件：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 下载所有PDF和DOC文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -r</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -A</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;*.pdf,*.doc&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/documents/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="限制下载深度" tabindex="-1"><a class="header-anchor" href="#限制下载深度"><span>限制下载深度</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -r</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>递归下载，但最多只深入2层目录。</p><h3 id="避免覆盖现有文件" tabindex="-1"><a class="header-anchor" href="#避免覆盖现有文件"><span>避免覆盖现有文件</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -nc</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/file.zip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果文件已经存在，则不下载。</p><h2 id="实用技巧" tabindex="-1"><a class="header-anchor" href="#实用技巧"><span>实用技巧</span></a></h2><h3 id="_1-创建站点备份脚本" tabindex="-1"><a class="header-anchor" href="#_1-创建站点备份脚本"><span>1. 创建站点备份脚本</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 网站备份脚本</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">DATE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">date</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> +%Y%m%d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -E</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> robots=off</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     --restrict-file-names=windows</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     -P</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> backup_</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$DATE</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     https://example.com/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-批量下载文件" tabindex="-1"><a class="header-anchor" href="#_2-批量下载文件"><span>2. 批量下载文件</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 从文件读取URL并下载</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">while</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> read</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$url</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">done</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt; urls.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-定时下载文件" tabindex="-1"><a class="header-anchor" href="#_3-定时下载文件"><span>3. 定时下载文件</span></a></h3><p>结合<code>cron</code>定时任务使用wget：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># 每天凌晨3点下载文件</span></span>
<span class="line"><span>0 3 * * * wget -q -O /path/to/save/file.zip https://example.com/daily_update.zip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-下载并解压文件" tabindex="-1"><a class="header-anchor" href="#_4-下载并解压文件"><span>4. 下载并解压文件</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -qO-</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/archive.tar.gz</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>直接下载并解压缩，无需保存中间文件。</p><h2 id="常见问题及解决方案" tabindex="-1"><a class="header-anchor" href="#常见问题及解决方案"><span>常见问题及解决方案</span></a></h2><h3 id="_1-证书验证失败" tabindex="-1"><a class="header-anchor" href="#_1-证书验证失败"><span>1. 证书验证失败</span></a></h3><p>问题：wget报告SSL证书验证失败。</p><p>解决方案：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 不安全方式（不推荐用于敏感数据）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --no-check-certificate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/file.zip</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 安全方式（指定CA证书）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --ca-certificate=/path/to/ca-bundle.crt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/file.zip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-服务器拒绝访问" tabindex="-1"><a class="header-anchor" href="#_2-服务器拒绝访问"><span>2. 服务器拒绝访问</span></a></h3><p>问题：服务器可能拒绝wget的默认用户代理。</p><p>解决方案：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --user-agent=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/file.zip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_3-下载速度过慢" tabindex="-1"><a class="header-anchor" href="#_3-下载速度过慢"><span>3. 下载速度过慢</span></a></h3><p>问题：下载速度不理想。</p><p>解决方案：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 尝试使用多个连接</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://example.com/file.zip</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 如果服务器支持，可以使用aria2c代替wget获得更好的性能</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># apt-get install aria2</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># aria2c -x 16 https://example.com/file.zip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h2><ul><li><a href="https://www.gnu.org/software/wget/manual/wget.html" target="_blank" rel="noopener noreferrer">GNU Wget 官方手册</a></li><li><a href="https://linux.die.net/man/1/wget" target="_blank" rel="noopener noreferrer">Linux man pages: wget(1)</a></li></ul>`,110)]))}const p=s(h,[["render",n]]),k=JSON.parse(`{"path":"/linux/%E7%BD%91%E7%BB%9C%E5%B7%A5%E5%85%B7/wget.html","title":"wget命令-网络上下载文件","lang":"zh-CN","frontmatter":{"title":"wget命令-网络上下载文件","category":["Linux命令"],"tag":["网络工具","文件下载"],"date":"2022-09-16T00:00:00.000Z","description":"wget命令-网络上下载文件 简介 wget是一个在Linux系统中用于从网络上下载文件的命令行工具。它支持HTTP、HTTPS和FTP协议，可以在非交互式环境下工作，这意味着它可以在用户退出系统后继续在后台运行下载任务。wget因其稳定性和强大的功能而广受欢迎，即使在网络不稳定的情况下也能可靠地完成下载任务。 基本语法 主要特性 支持HTTP、HTT...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"wget命令-网络上下载文件\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-09-16T00:00:00.000Z\\",\\"dateModified\\":\\"2025-07-09T15:12:33.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"tuonioooo\\",\\"url\\":\\"/\\"}]}"],["meta",{"property":"og:url","content":"https://mister-hope.github.io/linux/%E7%BD%91%E7%BB%9C%E5%B7%A5%E5%85%B7/wget.html"}],["meta",{"property":"og:site_name","content":"tuonioooo's DevOps Docs"}],["meta",{"property":"og:title","content":"wget命令-网络上下载文件"}],["meta",{"property":"og:description","content":"wget命令-网络上下载文件 简介 wget是一个在Linux系统中用于从网络上下载文件的命令行工具。它支持HTTP、HTTPS和FTP协议，可以在非交互式环境下工作，这意味着它可以在用户退出系统后继续在后台运行下载任务。wget因其稳定性和强大的功能而广受欢迎，即使在网络不稳定的情况下也能可靠地完成下载任务。 基本语法 主要特性 支持HTTP、HTT..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-07-09T15:12:33.000Z"}],["meta",{"property":"article:tag","content":"文件下载"}],["meta",{"property":"article:tag","content":"网络工具"}],["meta",{"property":"article:published_time","content":"2022-09-16T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-07-09T15:12:33.000Z"}]]},"git":{"createdTime":1752073953000,"updatedTime":1752073953000,"contributors":[{"name":"tuonioooo","username":"tuonioooo","email":"daizhaoman@sina.com","commits":1,"url":"https://github.com/tuonioooo"}]},"readingTime":{"minutes":5.96,"words":1789},"filePathRelative":"linux/网络工具/wget.md","excerpt":"\\n<h2>简介</h2>\\n<p><code>wget</code>是一个在Linux系统中用于从网络上下载文件的命令行工具。它支持HTTP、HTTPS和FTP协议，可以在非交互式环境下工作，这意味着它可以在用户退出系统后继续在后台运行下载任务。<code>wget</code>因其稳定性和强大的功能而广受欢迎，即使在网络不稳定的情况下也能可靠地完成下载任务。</p>\\n<h2>基本语法</h2>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-bash\\"><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">wget</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> [选项] [URL]</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{p as comp,k as data};
